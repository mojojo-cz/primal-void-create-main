<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—¥å†è§†å›¾åªè¯»æ¨¡å¼ä¼˜åŒ–éªŒè¯</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #2563eb;
            border-bottom: 2px solid #2563eb;
            padding-bottom: 10px;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            background-color: #f9fafb;
        }
        .status {
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
            border-left: 4px solid;
        }
        .status.success {
            background-color: #f0fdf4;
            border-color: #22c55e;
            color: #15803d;
        }
        .status.info {
            background-color: #eff6ff;
            border-color: #3b82f6;
            color: #1d4ed8;
        }
        .status.warning {
            background-color: #fffbeb;
            border-color: #f59e0b;
            color: #d97706;
        }
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .comparison-table th,
        .comparison-table td {
            padding: 12px;
            border: 1px solid #e5e7eb;
            text-align: left;
        }
        .comparison-table th {
            background-color: #f9fafb;
            font-weight: 600;
        }
        .comparison-table .before {
            background-color: #fef2f2;
        }
        .comparison-table .after {
            background-color: #f0fdf4;
        }
        .code {
            background: #1f2937;
            color: #f9fafb;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 10px 0;
        }
        .feature-list {
            list-style-type: none;
            padding: 0;
        }
        .feature-list li {
            margin: 10px 0;
            padding: 10px 15px;
            background: #f3f4f6;
            border-radius: 6px;
            border-left: 4px solid #3b82f6;
        }
        .feature-list li:before {
            content: "âœ… ";
            color: #22c55e;
            font-weight: bold;
            margin-right: 8px;
        }
        .calendar-demo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .calendar-card {
            padding: 20px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            text-align: center;
            position: relative;
        }
        .calendar-card.before {
            border-color: #fbbf24;
            background-color: #fffbeb;
        }
        .calendar-card.after {
            border-color: #22c55e;
            background-color: #f0fdf4;
        }
        .calendar-event {
            background: #3b82f6;
            color: white;
            padding: 8px 12px;
            border-radius: 4px;
            margin: 10px auto;
            max-width: 200px;
            cursor: pointer;
            position: relative;
        }
        .calendar-event.readonly {
            cursor: default;
        }
        .calendar-event:hover {
            opacity: 0.9;
        }
        .tooltip {
            position: absolute;
            bottom: 120%;
            left: 50%;
            transform: translateX(-50%);
            background: #1f2937;
            color: white;
            padding: 8px 12px;
            border-radius: 4px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s;
        }
        .calendar-event:hover .tooltip {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“… æ—¥å†è§†å›¾åªè¯»æ¨¡å¼ä¼˜åŒ–éªŒè¯</h1>
        
        <div class="status success">
            <h3>âœ… ä¼˜åŒ–å®Œæˆ</h3>
            <p>å·²æˆåŠŸå®ç°æ—¥å†è§†å›¾åªè¯»æ¨¡å¼ï¼Œæ˜¾ç¤ºè¯¾ç¨‹ç§‘ç›®è€Œä¸æ˜¯è¯¾ç¨‹ä¸»é¢˜ï¼Œå¹¶ç¦ç”¨äº†æ‰€æœ‰ç¼–è¾‘åŠŸèƒ½ã€‚</p>
        </div>

        <div class="test-section">
            <h2>ğŸ¯ ä¼˜åŒ–å†…å®¹æ¦‚è§ˆ</h2>
            
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>åŠŸèƒ½é¡¹ç›®</th>
                        <th>ä¼˜åŒ–å‰</th>
                        <th>ä¼˜åŒ–å</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>äº‹ä»¶æ ‡é¢˜æ˜¾ç¤º</strong></td>
                        <td class="before">æ˜¾ç¤ºè¯¾ç¨‹ä¸»é¢˜ (lesson_title)<br>å¦‚ï¼š"æœªè®¾ç½®æœ¬èŠ‚è¯¾ä¸»é¢˜"</td>
                        <td class="after">æ˜¾ç¤ºè¯¾ç¨‹ç§‘ç›® (subject_name)<br>å¦‚ï¼š"é«˜ç­‰æ•°å­¦"ã€"çº¿æ€§ä»£æ•°"</td>
                    </tr>
                    <tr>
                        <td><strong>äº‹ä»¶ç‚¹å‡»è¡Œä¸º</strong></td>
                        <td class="before">ç‚¹å‡»æ‰“å¼€ç¼–è¾‘å¯¹è¯æ¡†<br>å¯ä»¥ä¿®æ”¹è¯¾ç¨‹ä¿¡æ¯</td>
                        <td class="after">åªè¯»æ¨¡å¼ï¼Œç¦ç”¨ç‚¹å‡»ç¼–è¾‘<br>ä»…ç”¨äºæŸ¥çœ‹</td>
                    </tr>
                    <tr>
                        <td><strong>æ—¥æœŸç‚¹å‡»è¡Œä¸º</strong></td>
                        <td class="before">ç‚¹å‡»ç©ºç™½æ—¥æœŸåˆ›å»ºæ–°è¯¾ç¨‹<br>æ‰“å¼€æ™ºèƒ½æ’è¯¾å·¥ä½œå°</td>
                        <td class="after">ç¦ç”¨æ—¥æœŸç‚¹å‡»<br>ä¸å…è®¸åˆ›å»ºæ–°è¯¾ç¨‹</td>
                    </tr>
                    <tr>
                        <td><strong>æ‹–æ‹½åŠŸèƒ½</strong></td>
                        <td class="before">æ”¯æŒæ‹–æ‹½ä¿®æ”¹æ—¶é—´<br>(è™½ç„¶å®é™…æœªå®Œå…¨å®ç°)</td>
                        <td class="after">å®Œå…¨ç¦ç”¨æ‹–æ‹½<br>editable=false</td>
                    </tr>
                    <tr>
                        <td><strong>æ‚¬åœæç¤º</strong></td>
                        <td class="before">æ˜¾ç¤º"ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ… | æ‹–æ‹½è°ƒæ•´æ—¶é—´"</td>
                        <td class="after">åªæ˜¾ç¤ºè¯¾ç¨‹ä¿¡æ¯<br>æ— äº¤äº’æç¤º</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="test-section">
            <h2>ğŸ¨ è§†è§‰æ•ˆæœå¯¹æ¯”</h2>
            
            <div class="calendar-demo">
                <div class="calendar-card before">
                    <h3>ä¼˜åŒ–å‰</h3>
                    <div class="calendar-event">
                        æœªè®¾ç½®æœ¬èŠ‚è¯¾ä¸»é¢˜
                        <div class="tooltip">ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ… | æ‹–æ‹½è°ƒæ•´æ—¶é—´</div>
                    </div>
                    <p style="font-size: 12px; color: #d97706;">
                        âŒ æ˜¾ç¤ºè¯¾ç¨‹ä¸»é¢˜<br>
                        âŒ æ”¯æŒç¼–è¾‘æ“ä½œ<br>
                        âŒ å¯ç‚¹å‡»å¯æ‹–æ‹½
                    </p>
                </div>
                
                <div class="calendar-card after">
                    <h3>ä¼˜åŒ–å</h3>
                    <div class="calendar-event readonly">
                        é«˜ç­‰æ•°å­¦
                        <div class="tooltip">ç§‘ç›®: é«˜ç­‰æ•°å­¦<br>è¯¾ç¨‹ä¸»é¢˜: å¯¼æ•°ä¸å¾®åˆ†</div>
                    </div>
                    <p style="font-size: 12px; color: #22c55e;">
                        âœ… æ˜¾ç¤ºè¯¾ç¨‹ç§‘ç›®<br>
                        âœ… åªè¯»æ¨¡å¼<br>
                        âœ… çº¯æŸ¥çœ‹åŠŸèƒ½
                    </p>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>ğŸ”§ æŠ€æœ¯å®ç°è¯¦æƒ…</h2>
            
            <div class="status info">
                <h3>å…³é”®ä¿®æ”¹ç‚¹ï¼š</h3>
                <ul class="feature-list">
                    <li>ä¿®æ”¹äº‹ä»¶æ ‡é¢˜ï¼štitle: schedule.subject_name (æ˜¾ç¤ºç§‘ç›®)</li>
                    <li>æ·»åŠ  readonly å‚æ•°æ§åˆ¶åªè¯»æ¨¡å¼</li>
                    <li>ç¦ç”¨ FullCalendar çš„ç¼–è¾‘åŠŸèƒ½ï¼šeditable=false</li>
                    <li>ç¦ç”¨æ‹–æ‹½åŠŸèƒ½ï¼šdroppable=false</li>
                    <li>ç¦ç”¨é€‰æ‹©åŠŸèƒ½ï¼šselectable=false</li>
                    <li>æ¡ä»¶æ€§ç¦ç”¨äº‹ä»¶å’Œæ—¥æœŸç‚¹å‡»</li>
                    <li>ä¼˜åŒ–æ‚¬åœæç¤ºä¿¡æ¯</li>
                </ul>
            </div>

            <h3>æ ¸å¿ƒä»£ç å®ç°ï¼š</h3>
            <div class="code">
// 1. æ¥å£ä¿®æ”¹ - æ·»åŠ åªè¯»æ¨¡å¼å‚æ•°
interface ScheduleCalendarProps {
  // ... å…¶ä»–å±æ€§
  readonly?: boolean; // æ–°å¢ï¼šåªè¯»æ¨¡å¼
}

// 2. äº‹ä»¶æ ‡é¢˜ä¿®æ”¹ - æ˜¾ç¤ºç§‘ç›®è€Œä¸æ˜¯ä¸»é¢˜
return {
  id: schedule.id,
  title: schedule.subject_name, // æ˜¾ç¤ºè¯¾ç¨‹ç§‘ç›®è€Œä¸æ˜¯è¯¾ç¨‹ä¸»é¢˜
  // ... å…¶ä»–å±æ€§
  extendedProps: {
    // ... å…¶ä»–å±æ€§
    lessonTitle: schedule.lesson_title, // ä¿ç•™ä¸»é¢˜ä¿¡æ¯åœ¨æ‰©å±•å±æ€§ä¸­
  }
};

// 3. FullCalendar é…ç½® - åªè¯»æ¨¡å¼
&lt;FullCalendar
  // ... å…¶ä»–é…ç½®
  eventClick={readonly ? undefined : handleEventClick} // åªè¯»æ¨¡å¼ä¸‹ç¦ç”¨äº‹ä»¶ç‚¹å‡»
  dateClick={readonly ? undefined : handleDateClick}   // åªè¯»æ¨¡å¼ä¸‹ç¦ç”¨æ—¥æœŸç‚¹å‡»
  editable={false}    // ç¦ç”¨ç¼–è¾‘åŠŸèƒ½
  droppable={false}   // ç¦ç”¨æ‹–æ‹½
  selectable={false}  // ç¦ç”¨é€‰æ‹©
/&gt;

// 4. æ’è¯¾ç®¡ç†é¡µé¢ä½¿ç”¨ - å¯ç”¨åªè¯»æ¨¡å¼
&lt;ScheduleCalendar
  schedules={schedules}
  // ... å…¶ä»–å±æ€§
  readonly={true} // è®¾ç½®ä¸ºåªè¯»æ¨¡å¼
/&gt;
            </div>
        </div>

        <div class="test-section">
            <h2>ğŸš€ æ‚¬åœæç¤ºä¿¡æ¯ä¼˜åŒ–</h2>
            
            <div class="status info">
                <h3>æç¤ºä¿¡æ¯ç»“æ„ï¼š</h3>
                <div class="code">
ä¼˜åŒ–åçš„æ‚¬åœæç¤ºå†…å®¹ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç§‘ç›®: é«˜ç­‰æ•°å­¦                    â”‚
â”‚ è¯¾ç¨‹ä¸»é¢˜: å¯¼æ•°ä¸å¾®åˆ†               â”‚
â”‚ æ‰€å±è®¡åˆ’: 2025æ•°å­¦é«˜è€ƒå†²åˆºç­        â”‚
â”‚ å‚ä¸æ–¹: é«˜ä¸‰(1)ç­                 â”‚
â”‚ æ•™å¸ˆ: å¼ è€å¸ˆ                      â”‚
â”‚ åœ°ç‚¹: A101                       â”‚
â”‚ çŠ¶æ€: scheduled                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¼˜åŒ–å‰çš„æç¤ºï¼ˆå·²ç§»é™¤ï¼‰ï¼š
âŒ "ç‚¹å‡»æŸ¥çœ‹è¯¦æƒ… | æ‹–æ‹½è°ƒæ•´æ—¶é—´"
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>ğŸ“± ç”¨æˆ·ä½“éªŒæå‡</h2>
            
            <div class="status warning">
                <h3>ä½“éªŒä¼˜åŒ–äº®ç‚¹ï¼š</h3>
                <ul>
                    <li><strong>ä¿¡æ¯å‡†ç¡®æ€§ï¼š</strong>æ—¥å†ç›´æ¥æ˜¾ç¤ºç§‘ç›®åç§°ï¼Œç”¨æˆ·ä¸€ç›®äº†ç„¶</li>
                    <li><strong>é˜²è¯¯æ“ä½œï¼š</strong>åªè¯»æ¨¡å¼é¿å…æ„å¤–ä¿®æ”¹é‡è¦æ’è¯¾æ•°æ®</li>
                    <li><strong>åŠŸèƒ½èšç„¦ï¼š</strong>æ—¥å†ä¸“æ³¨äºæŸ¥çœ‹å’Œæµè§ˆï¼Œç¼–è¾‘åŠŸèƒ½åœ¨è¡¨æ ¼è§†å›¾</li>
                    <li><strong>æ•°æ®ä¿æŠ¤ï¼š</strong>é™ä½å› è¯¯æ“ä½œå¯¼è‡´çš„æ•°æ®é”™è¯¯é£é™©</li>
                    <li><strong>ç•Œé¢ç®€æ´ï¼š</strong>ç§»é™¤ä¸å¿…è¦çš„äº¤äº’æç¤ºï¼Œç•Œé¢æ›´æ¸…çˆ½</li>
                </ul>
            </div>
        </div>

        <div class="test-section">
            <h2>âš¡ åŠŸèƒ½è¾¹ç•Œè¯´æ˜</h2>
            
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>ä½¿ç”¨åœºæ™¯</th>
                        <th>æ¨èæ“ä½œ</th>
                        <th>å¯ç”¨åŠŸèƒ½</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>å¿«é€Ÿæµè§ˆæ’è¯¾</strong></td>
                        <td>ä½¿ç”¨æ—¥å†è§†å›¾</td>
                        <td>âœ… æŸ¥çœ‹ç§‘ç›®<br>âœ… æŸ¥çœ‹æ—¶é—´<br>âœ… ç­›é€‰è®¡åˆ’</td>
                    </tr>
                    <tr>
                        <td><strong>ç¼–è¾‘ä¿®æ”¹æ’è¯¾</strong></td>
                        <td>åˆ‡æ¢åˆ°è¡¨æ ¼è§†å›¾</td>
                        <td>âœ… ç¼–è¾‘ä¸»é¢˜<br>âœ… ä¿®æ”¹æ—¶é—´<br>âœ… åˆ é™¤è¯¾ç¨‹</td>
                    </tr>
                    <tr>
                        <td><strong>åˆ›å»ºæ–°æ’è¯¾</strong></td>
                        <td>ä½¿ç”¨æ™ºèƒ½æ’è¯¾å·¥ä½œå°</td>
                        <td>âœ… æ‰¹é‡åˆ›å»º<br>âœ… å†²çªæ£€æµ‹<br>âœ… å­¦å‘˜ç®¡ç†</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="status success">
            <h3>ğŸ‰ ä¼˜åŒ–æ€»ç»“</h3>
            <p>
                é€šè¿‡å®ç°æ—¥å†è§†å›¾çš„åªè¯»æ¨¡å¼å’Œç§‘ç›®æ˜¾ç¤ºä¼˜åŒ–ï¼ŒæˆåŠŸå°†æ—¥å†è§†å›¾å®šä½ä¸º 
                <strong>æŸ¥çœ‹å’Œæµè§ˆä¸“ç”¨ç•Œé¢</strong>ï¼Œä¸è¡¨æ ¼è§†å›¾çš„ç¼–è¾‘åŠŸèƒ½å½¢æˆå®Œç¾äº’è¡¥ã€‚
                ç”¨æˆ·ç°åœ¨å¯ä»¥ï¼š
            </p>
            <ul>
                <li>ğŸ” <strong>åœ¨æ—¥å†ä¸­å¿«é€Ÿæµè§ˆ</strong> - æŒ‰æ—¶é—´ç»´åº¦æŸ¥çœ‹æ’è¯¾å®‰æ’</li>
                <li>ğŸ“ <strong>åœ¨è¡¨æ ¼ä¸­ç²¾ç¡®ç¼–è¾‘</strong> - è¯¦ç»†ä¿®æ”¹è¯¾ç¨‹ä¿¡æ¯</li>
                <li>âš¡ <strong>åœ¨å·¥ä½œå°ä¸­æ‰¹é‡åˆ›å»º</strong> - é«˜æ•ˆçš„æ’è¯¾è§„åˆ’</li>
            </ul>
            <p>
                è¿™ç§åˆ†å·¥æ˜ç¡®çš„è®¾è®¡å¤§å¤§æå‡äº†ç”¨æˆ·ä½“éªŒï¼Œå‡å°‘äº†è¯¯æ“ä½œï¼Œ
                è®©æ’è¯¾ç®¡ç†æ›´åŠ ä¸“ä¸šå’Œé«˜æ•ˆã€‚
            </p>
        </div>
    </div>
</body>
</html> 